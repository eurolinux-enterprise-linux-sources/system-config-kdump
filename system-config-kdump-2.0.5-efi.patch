commit 0e14461d8fe1f7e386b76f056d66112b37223e69
Author: Martin Milata <mmilata@redhat.com>
Date:   Wed Jul 10 16:40:36 2013 +0200

    Add support for grub on EFI systems
    
    Fixes #977981
    
    Signed-off-by: Martin Milata <mmilata@redhat.com>

diff --git a/src/system-config-kdump-backend.py b/src/system-config-kdump-backend.py
index 2d7c098..520da50 100755
--- a/src/system-config-kdump-backend.py
+++ b/src/system-config-kdump-backend.py
@@ -17,11 +17,12 @@ KDUMP_CONFIG_FILE = "/etc/kdump.conf"
 
 
 # can be replaced by using booty?
-#             bootloader : (config file, kdump offset, kernel path)
-BOOTLOADERS = { "grub"   : ("/boot/grub/grub.conf", 16, "/boot"),
-                "yaboot" : ("/boot/etc/yaboot.conf", 32, "/boot"),
-                "elilo"  : ("/boot/efi/EFI/redhat/elilo.conf", 256, "/boot/efi/EFI/redhat"),
-                "zipl"   : ("/etc/zipl.conf", 0, "/boot") }
+#             config file : bootloader
+BOOTLOADERS = { "/boot/grub/grub.conf"            : "grub",
+                "/boot/efi/EFI/redhat/grub.conf"  : "grub",
+                "/boot/etc/yaboot.conf"           : "yaboot",
+                "/boot/efi/EFI/redhat/elilo.conf" : "elilo",
+                "/etc/zipl.conf"                  : "zipl" }
 
 class SystemConfigKdumpObject(slip.dbus.service.Object):
     def __init__ (self, *p, **k):
@@ -101,7 +102,7 @@ class SystemConfigKdumpObject(slip.dbus.service.Object):
     def set_bootloader(self):
         """ Choose which bootloader is on the system """
         bootloader = None
-        for (name, (conf, offset, kpath)) in BOOTLOADERS.items():
+        for (conf, name) in BOOTLOADERS.items():
             # I hope order doesn't matter
             if os.access(conf, os.W_OK):
                 bootloader = name
